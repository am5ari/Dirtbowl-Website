<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lexington Dirtbowl</title>
    <link rel="stylesheet" href="styles.css">
    <link
  rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
    />
    
    <script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.1.0/firebase-app.js";
import { getAnalytics, logEvent } from "https://www.gstatic.com/firebasejs/10.1.0/firebase-analytics.js";

// --- Firebase config ---
const firebaseConfig = {
  apiKey: "AIzaSyByXfVkKxz166ghpEVD4xuaQtLDpeNCzUE",
  authDomain: "dirtbowl-page.firebaseapp.com",
  databaseURL: "https://dirtbowl-page-default-rtdb.firebaseio.com",
  projectId: "dirtbowl-page",
  storageBucket: "dirtbowl-page.firebasestorage.app",
  messagingSenderId: "948778986865",
  appId: "1:948778986865:web:0f66d810d77310ec459ad0",
  measurementId: "G-0HV8M44Z3J"
};

// --- Initialize Firebase ---
const app = initializeApp(firebaseConfig);
const analytics = getAnalytics(app);

// --- Track page view ---
logEvent(analytics, 'page_view', { path: window.location.pathname });

// --- Track clicks on buttons with <a> inside ---
document.querySelectorAll('.main__btn a').forEach(link => {
  link.addEventListener('click', (e) => {
    e.preventDefault(); // temporarily stop navigation

    let eventName = 'button_click';
    const text = link.textContent.trim();

    if (text.includes("Explore")) eventName = "explore_click";
    else if (text.includes("Get in contact")) eventName = "contact_click";
    else if (text.includes("Full Stats")) eventName = "fullstats_click";

    console.log('Logging button event:', eventName);
    logEvent(analytics, eventName);

    // Continue navigation after short delay
    setTimeout(() => {
      if (link.target === "_blank") window.open(link.href, "_blank");
      else window.location.href = link.href;
    }, 200);
  });
});

// --- Track all <a> links (Comments, Instagram, Facebook, others) ---
document.querySelectorAll('a').forEach(link => {
  link.addEventListener('click', (e) => {
    e.preventDefault();

    const href = link.href;
    let eventName = "link_click";

    if (href.includes("instagram.com")) eventName = "instagram_click";
    else if (href.includes("facebook.com")) eventName = "facebook_click";
    else if (href.endsWith("Comments.html")) eventName = "comments_click";

    console.log('Logging link event:', eventName, href);
    logEvent(analytics, eventName, { url: href });

    // Navigate after short delay
    setTimeout(() => {
      if (link.target === "_blank") window.open(href, "_blank");
      else window.location.href = href;
    }, 200);
  });
});

// --- Track scroll depth ---
let lastScrollPercent = 0;
window.addEventListener('scroll', () => {
  const scrollTop = window.scrollY;
  const docHeight = document.documentElement.scrollHeight - window.innerHeight;
  if (docHeight <= 0) return;
  const scrollPercent = Math.floor((scrollTop / docHeight) * 100);

  const milestones = [25, 50, 75, 100];
  milestones.forEach(percent => {
    if (scrollPercent >= percent && lastScrollPercent < percent) {
      logEvent(analytics, 'scroll_depth', { percent: percent });
    }
  });

  lastScrollPercent = scrollPercent;
});

// --- Track overall time on page ---
const startTime = Date.now();
window.addEventListener('beforeunload', () => {
  const timeSpentSec = Math.round((Date.now() - startTime) / 1000);
  logEvent(analytics, 'time_on_page', { seconds: timeSpentSec, path: window.location.pathname });

  for (const [sectionId, duration] of Object.entries(sectionTimes)) {
    if (duration > 0) {
      logEvent(analytics, 'time_in_section', { section: sectionId, seconds: Math.round(duration / 1000) });
    }
  }
});

// --- Track time spent per section ---
const sections = document.querySelectorAll('section, .hero, .main, .history, .schedule, .stats, .footer__container');
const sectionTimes = {};
const sectionEnter = {};

sections.forEach(section => {
  const id = section.id || section.className || "unknown_section";
  sectionTimes[id] = 0;
  sectionEnter[id] = 0;
});

const observer = new IntersectionObserver(entries => {
  const now = Date.now();
  entries.forEach(entry => {
    const id = entry.target.id || entry.target.className || "unknown_section";
    if (entry.isIntersecting) {
      sectionEnter[id] = now;
    } else if (sectionEnter[id] > 0) {
      sectionTimes[id] += now - sectionEnter[id];
      sectionEnter[id] = 0;
    }
  });
}, { threshold: 0.5 });

sections.forEach(section => observer.observe(section));

</script>





</head>
<body>

  
    <!-- NAVBAR -->
     <nav class="navbar">
        <div class="navbar__container">
           <!-- <a href="#Home" id="navbar__container">Lexington Dirtbowl</a> -->
           <div class="navbar__toggle" id="mobile-menu">
            <span class="bar"></span>
            <span class="bar"></span>
            <span class="bar"></span>
           </div>
           <ul class="navbar__menu">
            <li class="navbar__item">
                <a href="#Home" class="navbar__link" id="Home-link">Home</a>
            </li>
            <li class="navbar__item">
                <a href="#About" class="navbar__link" id="About-link">About</a>
            </li>
           
            <li class="navbar__item">
                <a href="schedule.html" class="navbar__link" id="Schedule-link">Schedule</a>
            </li>
            <li class="navbar__item">
                <a href="stats.html" target="_blank" class="navbar__link" id="Stats-Link">Stats</a>
            </li>
            <li class="navbar__item">
                <a href="Comments.html" target="_blank" class="navbar__link" id="Comments-link">Comments</a>
            </li>
           </ul>

        </div>
     </nav> 

     <!-- Hero Sectionn -->
     
     <div class="hero" id="Home">
  <div class="hero__container">
    <h1 class="hero__heading">Lexington Dirtbowl</h1>
    <p class="hero__description"></p>
    <div class="btnwrap">
      <a class="about__btn" href="stats.html">Box Scores</a>
      <a class="about__btn" href="Comments.html">Live Feed</a>
      <a class="about__btn" href="schedule.html">Schedule</a>
    </div>
  </div>
</div>
        

      <!-- About section -->
       <div class="main" id="About">
        <div class="main__container">
            <div class="main_img_container">
                <div class="main__img__card"></div>
            </div>
            <div class="main__content">
                <h1>What is "Lexington Dirtbowl"?</h1>
                <h2>The Lexington Dirt Bowl is a legendary summer basketball league and community event held at Douglass Park, known for being a premier outdoor league and a major cultural gathering. Started in the 1970s, it's a mix of competitive basketball, with a history of developing local talent, and a large community celebration that includes music, food vendors, and family entertainment.</h2>
                <p>Schedule a call to learn more!</p>
                <button class="main__btn"><a href="ContactPage.html" target=_blank >Get in contact</a></button> 
            </div>
        </div>
       </div>
       
       <!-- Buttons Page -->
        

            

        </div>
        <!-- Stats Page -->
         <!-- <div class="stats" id="Stats">
            <h1>Dirtbowl Official Stats</h1>
             <button class="main__btn"><a href="/">Full Stats</a></button>
         </div> -->

        <!-- Footer Section -->
         <div class="footer__container">
            <div class="footer__links">
                <div class="footer_link--wrapper">
                    <div class="footer__link--items">
                        <h2>Join Us</h2>
                        <a href="ContactPage.html" target="_blank">Get in contact</a>
                        <a href="/sign-up">Sign Up</a>
                    </div>
                </div>
                <div class="footer__link--wrapper">
                    <div class="footer__link--items">
                        <h2>Social Media</h2>
                        <a href="https://www.instagram.com/thedirtbowl1967/">Instagram</a> 
                        <a href="https://www.facebook.com/groups/146471482206366/">Facebook</a>
                    </div>
                </div>
            </div>
         <section class="social__media">
            <div class="social__media--wrap">
                <div class="footer__logo">
                    <a href="/" id="footer__logo">Dirtbowl</a>
                </div>
                <p class="website__rights"> Lexington Dirtbowl 2026. All rights reserved</p>
                <div class="social__icons">
                    <a href="https://www.facebook.com/groups/146471482206366/" class="social__icon--link" target="_blank"
                    ><i class="fa-brands fa-facebook"></i
                    ></a>
                    <a href="https://www.instagram.com/thedirtbowl1967/" class="social__icon--link" target="_blank"
                    ><i class="fa-brands fa-instagram"></i>
                    </a>
                </div>
            </div>
         </section>
        </div>
     <script src="apps.js"></script>
     
</body>
</html>